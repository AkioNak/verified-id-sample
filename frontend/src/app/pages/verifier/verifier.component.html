<div class="mb-10">
  <div *ngIf="state === 0 || state === 1">
    <span>証明書の検証をリクエストしています。しばらくお待ちください。</span>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>

  <!-- QRコード表示 -->
  <div *ngIf="state === 2">
    <div>
      Microsoft
      AuthenticatorまたはカメラアプリでQRコードを読み取り、証明書を許可してください。
    </div>
    <qrcode [qrdata]="url" [width]="300"></qrcode>
  </div>

  <div *ngIf="state === 3">
    <span>QRコードが読み取られました。許可を待機中です</span>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>

  <!-- 検証完了 -->
  <div *ngIf="state === 4">
    <div>証明書の検証が完了しました。</div>
    <div>姓：{{ lastName }}</div>
    <div>名：{{ firstName }}</div>
  </div>
</div>

<button mat-raised-button [routerLink]="'/main'">Back</button>
